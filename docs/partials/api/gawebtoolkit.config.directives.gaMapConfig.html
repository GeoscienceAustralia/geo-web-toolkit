<h1><code ng:non-bindable="">gaMapConfig</code>
<div><span class="hint">directive in module <code ng:non-bindable="">gawebtoolkit.config</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="gawebtoolkit-config-directives-page gawebtoolkit-config-directives-gamapconfig-page"><h4 id="description_overview">Overview</h4>
<p>gaMapConfig directive is used for loading a configuration file in JSON format and a &quot;template&quot; HTML file. These two will be used as our data and view layers.
 <p><span class="note">NOTE: </span>Follwing items should be considered when using gaMapConfig:</p>
 <ul>
     <li>&#39;gawebtoolkit.config&#39; must be referenced and loaded when creating our AngularJS application</li>
     <li>A controller should be created attached to our AngularJS application, this controller will trigger an event which injects our configuration (loaded in page in JSON format) to the scope as a JavaScript object</li>
     <li>By calling defined controller within our app element in HTML, all the configuration will be accessible. Controller can be called in the template file or in the main application&#39;s HMTL codes</li>
 </ul></p>
</div></div>
<h2 id="usage">Usage</h2>
<div class="usage">as element:<pre class="prettyprint linenums">&lt;ga-map-config
       ga-config-path="{string|@}"
       static-config="{string|@}"
       template-path="{string|@}"&gt;
&lt;/ga-map-config&gt;</pre>
<h3 id="usage_directive-info">Directive info</h3>
<div class="directive-info"><ul><li>This directive creates new scope.</li>
</ul>
</div>
<h4 id="usage_directive-info_parameters">Parameters</h4><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>gaConfigPath</td><td><a href="" class="label type-hint type-hint-string">string</a><a href="" class="label type-hint type-hint-object">@</a></td><td><div class="gawebtoolkit-config-directives-page gawebtoolkit-config-directives-gamapconfig-page"><ul>
<li>A string value containing the path to our configuration JSON file</li>
</ul>
</div></td></tr><tr><td>staticConfig</td><td><a href="" class="label type-hint type-hint-string">string</a><a href="" class="label type-hint type-hint-object">@</a></td><td><div class="gawebtoolkit-config-directives-page gawebtoolkit-config-directives-gamapconfig-page"><ul>
<li>A boolean value (&quot;true&quot; or &quot;false&quot;) that toggles using configuration/template files on/off</li>
</ul>
</div></td></tr><tr><td>templatePath</td><td><a href="" class="label type-hint type-hint-string">string</a><a href="" class="label type-hint type-hint-object">@</a></td><td><div class="gawebtoolkit-config-directives-page gawebtoolkit-config-directives-gamapconfig-page"><ul>
<li>A string value containing the path to our HTML template file</li>
</ul>
</div></td></tr></tbody></table></div>
<h2 id="example">Example</h2>
<div class="example"><div class="gawebtoolkit-config-directives-page gawebtoolkit-config-directives-gamapconfig-page"><h4 id="example_source">Source</h4>
<div source-edit="simpleMapWithConfig" source-edit-deps="angular.js script.js" source-edit-html="index.html ourTemplate.html" source-edit-css="style.css" source-edit-js="script.js" source-edit-json="ourConfigFile.json" source-edit-unit="" source-edit-scenario=""></div>
<div class="tabbable"><div class="tab-pane" title="index.html">
<pre class="prettyprint linenums" ng-set-text="index.html" ng-html-wrap-loaded="simpleMapWithConfig angular.js script.js"></pre>
<script type="text/ng-template" id="index.html">
    <div id="map"></div>
    <div ng-controller="ourConfigController">
    <ga-map-config ga-config-path="../docs-sources/ourConfigFile" template-path="../docs-sources/ourTemplate.html" static-config="true" class="ng-scope"></ga-map-config>
    </div>
</script>
</div>
<div class="tab-pane" title="ourTemplate.html">
<pre class="prettyprint linenums" ng-set-text="ourTemplate.html"></pre>
<script type="text/ng-template" id="ourTemplate.html">
    <ga-map map-element-id="map" datum-projection="EPSG:102100" display-projection="EPSG:4326" center-position="{{myConfig.centrePosition}}" zoom-level="{{myConfig.zoomLevel}}">
        <ga-map-layer 
            ng-repeat="baseLayer in myConfig.baseMaps" 
            layer-name="{{baseLayer.name}}" 
            layer-url="{{baseLayer.url}}"
            wrap-date-line="{{baseLayer.wrapDateLine}}" 
            map-bg-color="#{{baseLayer.mapBGColor}}" 
            layer-type="{{baseLayer.mapType}}" 
            is-base-layer="{{baseLayer.isBaseLayer}}" 
            visibility="{{baseLayer.visibility}}" 
            layer-attribution="{{baseLayer.attribution}}"
            zoom-to-max="{{baseLayer.zoomToMax}}">
        </ga-map-layer>
        <ga-map-layer 
            ng-repeat="Layer in myConfig.layerMaps" 
            layer-name="{{Layer.name}}" 
            layer-url="{{Layer.url}}"
            layer-type="WMS"
            zoom-to-max="true"
            wrap-date-line="{{Layer.wrapDateLine}}" 
            map-bg-color="#{{Layer.mapBGColor}}" 
            layer-type="{{Layer.mapType}}" 
            is-base-layer="{{Layer.isBaseLayer}}" 
            visibility="{{Layer.visibility}}" 
            layer-attribution="{{Layer.attribution}}">
        </ga-map-layer>
        <ga-map-control ng-repeat="control in myConfig.controls" map-control-name="{{control}}"></ga-map-control>
    </ga-map> 
</script>
</div>
<div class="tab-pane" title="style.css">
<pre class="prettyprint linenums" ng-set-text="style.css"></pre>
<style type="text/css" id="style.css">
   #map {width: 650px;height:600px;}
   .note {color: red; font-weight: bold}
</style>
</div>
<div class="tab-pane" title="script.js">
<pre class="prettyprint linenums" ng-set-text="script.js"></pre>
<script type="text/ng-template" id="script.js">
    var app = angular.module('simpleMapWithConfig',['gawebtoolkit.core','gawebtoolkit.config']);
    app.controller('ourConfigController', function ($scope) { 
       $scope.$on('configDataLoaded', function(event,args){ 
           $scope.myConfig = args;
       }) 
    });
</script>
</div>
<div class="tab-pane" title="ourConfigFile.json">
<pre class="prettyprint linenums" ng-set-text="ourConfigFile.json"></pre>
<script type="text/ng-template" id="ourConfigFile.json">
    {
    "title" : "Topography",
    "id": "map",
    "datumProjection":"EPSG:102100",
    "displayProjection": "EPSG:4326",
    "backgroundcolour": "#21468b",
    "centrePosition": {"lat":"3868551","lon":"-10403008"},
    "zoomLevel":3,
    "baseMaps": [
    {
    "isBaseLayer":true,
    "mapType":"WMS",
    "visibility":true,
    "name":"World Image",
    "url":"http://basemap.nationalmap.gov/ArcGIS/services/USGSTopo/MapServer/WMSServer",
    "mapBGColor":"194584",
    "opacity":1.0,
    "wrapDateLine":true,
    }
    ],
    "layerMaps": [
    {
    "isBaseLayer":false,
    "mapType":"WMS",
    "visibility":true,
    "name":"Australian Topography",
    "url":"http://services.nationalmap.gov/ArcGIS/services/US_Topo_Availability/MapServer/WMSServer",
    "mapBGColor":"194584",
    "opacity":1.0
    }
    ],
    "controls": [
    "mouseposition",
    "OverviewMap",
    "Permalink",
    "ScaleLine",
    "panzoombar"
    ]
    }
</script>
</div>
</div><h4 id="example_demo">Demo</h4>
<div class="well doc-example-live animate-container" ng-embed-app="simpleMapWithConfig" ng-set-html="index.html" ng-eval-javascript="script.js"></div>
</div></div>
</div>
