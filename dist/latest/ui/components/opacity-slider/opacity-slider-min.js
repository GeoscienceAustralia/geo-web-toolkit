(function(){var a=angular.module("gawebtoolkit.ui.components.opacity-slider",["gawebtoolkit.ui.directives","ui.utils","gawebtoolkit.utils"]);a.directive("gaLayerOpacitySlider",["$timeout",function(b){return{restrict:"E",templateUrl:"src/main/js/ui/components/opacity-slider/opacity-slider.html",replace:true,scope:{layerId:"@",layerOpacity:"=",mapController:"=",layerDisabled:"=",titleText:"@",onOpacityChange:"&"},controller:["$scope",function(c){c.changeOpacitySlide=function(f,d){c.layerOpacity=d.value;b(function(){c.$apply();c.onOpacityChange({layerId:c.layerId,opacity:c.layerOpacity})})};c.getSliderOptions=function(){return{min:0,max:1,range:false,step:0.01,slide:c.changeOpacitySlide,value:c.layerOpacity,disabled:c.layerDisabled}}}],link:function(d,c){d.$watch("layerOpacity",function(f,e){if(f&&e!==f){$(c).slider(d.getSliderOptions());if(d.layerId){d.mapController.setOpacity(d.layerId,f)}}});b(function(){c.find(".ui-slider-handle").attr("title",d.titleText)})},transclude:true}}])})();