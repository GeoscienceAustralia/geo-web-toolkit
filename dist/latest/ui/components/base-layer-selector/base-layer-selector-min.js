(function(){var a=angular.module("gawebtoolkit.ui.components.base-layer-selector",["gawebtoolkit.ui.directives","ui.utils","gawebtoolkit.utils"]);a.directive("gaBaseLayerSelector",["$timeout",function(b){return{restrict:"E",templateUrl:"src/main/js/ui/components/base-layer-selector/base-layer-selector.html",replace:true,scope:{layersData:"=",mapController:"=",controllerEmitEventName:"@"},controller:["$scope",function(d){var c=this;c.selectBaseLayer=function(e){d.selectedBaseLayerId=e};d.$emit(d.controllerEmitEventName,c)}],link:function(c){c.$watch("selectedBaseLayerId",function(e){if(e!=null){c.mapController.setBaseLayer(e)}});c.$watch("layersData",function(e){if(e){for(var f=0;f<e.length;f++){if(c.layersData[f].visibility===true){d(c.layersData[f])}}}});var d=function(e){b(function(){c.selectedBaseLayerId=e.id})}},transclude:true}}])})();